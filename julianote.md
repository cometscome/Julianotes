# 物理で使う数値計算入門：Julia言語による簡単数値計算
<div style="text-align: right;">
令和元年5月1日
</div>
<div style="text-align: right;">
永井佑紀
</div>

## 1. はじめに：このノートの目的
初めて数値計算をする人がJuliaを使って簡単にコードを書いて計算できるように、という意図で書いています。特に、物理で使うことの多い計算を中心にまとめています。

### 1.1 Juliaの利点

Juliaは2018年にバージョン1となったばかりの非常に新しいプログラミング言語ですので、様々なプログラミング言語の良いところを取り入れており、非常に<u>書きやすく</u>かつ<u>高速</u>です。また、FortranやCと違い、コンパイルが必要ありません。ですので、Pythonのようなスクリプト言語のように使うことができます。Pythonは現在非常に人気のある言語ですので、書籍も豊富でWebでの文献も多く、最初のプログラミング言語として勧められることも多いと思います。しかし、Pythonを数値計算で使う場合、特別な処置をしないと非常に遅いという問題があります。
そのため、Pythonで数値計算をすると遅いために、FortranやCを数値計算のための言語として勧められることも多いと思います。
Juliaは、「Pythonのように書きやすく」「FortranやCど同程度に速い」言語となるように設計されているために、数値計算を学ぶ際の最適な言語の一つになっています。

つまり、Juliaは

- FortranやCと同程度に高速
- Pythonと同じくらい書きやすく
- 数式を扱うようにコードを書くことができる

という言語です。

### 1.2 具体的な利点
コードを見ればわかりますが、Julia の場合、Fortran や C で必要であったたくさんの「おまじない」や Lapackのインストールや呼び出しなどの煩雑なことを一切する必要がありません。Pythonでも似たような形でシンプルにコードが書けますが、Pythonは For ループが遅いという数値計算として使うには問題となる点(工夫すれば速くなりますが Python ならではのこの工夫を習得するのに時間がかかります）゙があります。この問題点のせいで、教科書に書いてあるようなアルゴリズムを Python にそのまま移植するととんでもなく遅くなってしまうことがあります。Python はあらかじめわかっているアルゴリズムを呼び出すことにかけてはそのライブラリの豊富さとコミュニティの広さで圧倒的ですが、新しいアルゴリズムを書いたりする場合には、最適ではないと思います。その点、Julia はアルゴリズムをそのままコードにするだけで速いです。これは、「物理以外の余計なことを考えずに物理の結果が知りたい」という、物理をやる人間にとって重要な欲求を満たす可能性のある言語となっている、ということですので、有望だと思います。


## 2. Juliaのインストール

### 2.0. 二種類の実行方法

Juliaを使うには、二つの方法があります。
1. 対話的実行環境　REPL(read-eval-print loop)
2. 通常の実行方法

1は、普通のアプリケーションのようにJuliaを起動して、その中でコードを書いたり計算をしたりプロットしたりするものです。簡単な計算を気軽に試すことができます。

2は、通常の実行方法で、ファイルにプログラムコードを```test.jl```みたいな形で保存してから、

```
julia test.jl
```
で実行する方法です。

このノートでは、最初は簡単なので1.のREPLを使います。少し複雑になってきた場合には、ファイルにコードを保存して、2.で実行することにします。




### 2.1. バージョン
このノートでのJuliaのバージョンは、1.1.0とします。

### 2.2. Macの場合

https://julialang.org/downloads/
から```macOS 10.8+ Package (.dmg)```をダウンロードして、他のアプリケーションと同様にインストールします。インストールしたあとは、アプリケーションにJulia 1.1がありますので、それをダブルクリックするとターミナルが起動して使えるようになります。

### 2.3. Linuxの場合
Linuxの場合には、

```
wget https://julialang-s3.julialang.org/bin/linux/x64/1.1/julia-1.1.0-linux-x86_64.tar.gz
tar -xvf julia-1.1.0-linux-x86_64.tar.gz
echo 'export PATH="$PATH:$HOME/julia-1.1.0/bin"' >> ~/.bashrc
source ~/.bashrc
```
でインストールができますので、あとは

```
julia
```
で起動することができます。

### 2.4 Windowsの場合
Windows版のJuliaをインストールすれば使用できます。あるいは、Windows Subsystem for Linuxを使ってUbuntuを入れることで上のLinuxと同じようにインストールすることもできます。


## 3. 基本編
この章では、REPLの上でJuliaを使ってみましょう。
### 3.1 いじってみよう
まずはじめに、プログラミング言語での定番、Hello worldですが、これは、

```julia
println("Hello World!")
```
で出力されます。
ここで、```println```は最後に改行あり、```print```は改行なしです。
関数の説明がみたい時には、?を押すとHelpモードに入りますので、そこで関数名を入れます。

#### 足し算、引き算
足し算は、

```julia
1+2
```
でできますし、引き算は

```julia
2-5
```
でできます。

#### かけ算と割り算
かけ算は、```*```の記号で、

```julia
2*3
```
となりますし、割り算の記号は```/```で、

```julia
4/2
```
でできます。
割り算については注意があります。上の計算を行うと、

```
2.0
```
となりました。2と2.0の違いは、整数と実数の違いです。
もちろん、計算機では無限の桁の実数を扱うことはできませんから、この実数は桁があります。それについては後述します。
もし、割った結果を整数で欲しい場合には、

```julia
div(4,2)
```
とすると、答えとして```2```が返ってきます。

#### べき乗、指数関数、対数関数
べき乗は```^```でできますので、

```julia
3^7
```
となります。
指数関数は```exp```で、

```julia
exp(3)
```
でできますし、自然対数は```log```で

```julia
log(2)
```
となります。対数の底が2と10の時はそれぞれ```log2```と```log10```が使えて、

```julia
log2(4)
```
や
```julia
log10(100)
```
が使えます。任意の底の場合には、nを底、xを値として、```log(n,x)```で使えまして、

```julia
log(3,9)
```
となります。




以下執筆予定